(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{61:function(e,t,c){"use strict";c(1),c(62);var s=c(2);t.a=function(e){var t=e.cartItem,c=e.addItem,a=e.removeItem,n=t.id,r=t.name,i=t.quantity,o=t.price;return Object(s.jsxs)("div",{className:"rows-container",children:[Object(s.jsx)("div",{children:r}),Object(s.jsxs)("div",{style:{display:"flex"},children:[Object(s.jsx)("div",{className:"arrow-rows",onClick:function(){a(t)},children:"\u276e"}),Object(s.jsx)("span",{children:i}),Object(s.jsx)("div",{className:"arrow-rows",onClick:function(){c(t)},children:"\u276f"})]}),Object(s.jsxs)("div",{children:["$ ",o]})]},n)}},62:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var s=c(1),a=(c(76),c(27)),n=c(11),r=c(6),i=c(4),o=(c(77),c(61)),l=c(17),d=c(16),u=c(2),j=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),c=t[0],j=t[1],h=Object(s.useState)(!1),m=Object(r.a)(h,2),b=m[0],p=m[1],O=Object(s.useContext)(l.a),x=Object(s.useContext)(d.a);Object(s.useEffect)((function(){0===O.cartItems.length?p(!0):p(!1)}),[O.cartItems]);var v=Object(s.useState)({first_name:x.first_name,last_name:x.last_name,email:x.email,address:x.address,city:x.city,phone:x.phone,state:x.state}),f=Object(r.a)(v,2),N=f[0],y=f[1],k=Object(s.useState)({status:""}),C=Object(r.a)(k,2),g=C[0],I=C[1],_=N.first_name,w=N.last_name,T=N.email,S=N.address,D=N.city,q=N.phone,E=N.state,J=function(e){var t=e.target,c=t.value,s=t.name;y(Object(n.a)(Object(n.a)({},N),{},Object(a.a)({},s,c)))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Checkout"}),c?null:Object(u.jsxs)("div",{className:"sections-container",children:[Object(u.jsxs)("div",{className:"order-section",children:[Object(u.jsx)("h3",{children:"Pedido"}),Object(u.jsx)("div",{className:"checkout-rows-container",children:O.cartItems.map((function(e){return Object(u.jsx)(o.a,{cartItem:e,addItem:O.addItem,removeItem:O.removeItem},e.id)}))}),Object(u.jsxs)("div",{className:"total-container",children:[Object(u.jsx)("h3",{children:"Total "}),Object(u.jsxs)("h3",{children:["$ ",O.cartTotal]})]})]}),Object(u.jsxs)("div",{className:"delivery-section",children:[Object(u.jsx)("h3",{children:"Datos de envio"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://localhost:3001/order/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:_,last_name:w,email:T,address:S,city:D,phone:q,state:E,userCtx:x,cartCtx:O})}).then((function(e){return e.json()})).then((function(e){var t,c,s;"number"===typeof e.order?(I({status:"success",order_id:e.order}),t=x,c=O,s=e.order,fetch("https://localhost:3001/order/confirmation",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:t,cart:c,orderId:s})}).then((function(e){return e.json()})).then((function(e){return console.log(e)})),O.clearCart(),j(!0)):I({status:"failed"})})).catch((function(e){return console.log("Error al crear orden, intenta de nuevo"+e)}))},className:"checkout-container",children:[Object(u.jsxs)("div",{className:"checkout-inputs",children:[Object(u.jsxs)("div",{className:"checkout-inputs-container",children:[Object(u.jsx)("input",{className:"checkout-input",placeholder:"Nombre",name:"first_name",type:"text",onChange:J,value:_,label:"Nombre",required:!0}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Apellido",name:"last_name",type:"text",value:w,onChange:J,label:"Apellido",required:!0})]}),Object(u.jsxs)("div",{className:"checkout-inputs-container",children:[Object(u.jsx)("input",{className:"checkout-input",placeholder:"Telefono",name:"phone",type:"text",value:q,onChange:J,label:"Telefono",required:!0}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Correo Electronico",name:"email",type:"email",value:T,onChange:J,label:"Email",disabled:!0})]}),Object(u.jsxs)("div",{className:"checkout-inputs-container",children:[Object(u.jsx)("input",{className:"checkout-input",placeholder:"Direccion",name:"address",type:"text",value:S,onChange:J,label:"Direccion"}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Ciudad",name:"city",type:"text",value:D,onChange:J,label:"ConfirmarPassword"}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Departamento",name:"state",type:"text",value:E,onChange:J,label:"Departamento"})]})]}),Object(u.jsxs)("div",{className:"checkout-button-container",children:[Object(u.jsx)(i.b,{to:"/cart",style:{width:"30%"},children:Object(u.jsx)("button",{className:"checkout-back-button",children:"Volver"})}),Object(u.jsx)("button",{className:"checkout-button",type:"submit",disabled:b,children:"Comprar"})]})]})]})]}),Object(u.jsx)("div",{children:"success"===g.status?Object(u.jsxs)("div",{className:"success-message",children:[Object(u.jsxs)("div",{className:"success-order-message-1",children:["Tu pedido ha sido procesado con exito, tu numero de orden es ",g.order_id," "]}),Object(u.jsx)("div",{className:"success-order-message-2",children:"Te contactaremos a la brevedad"})]}):"failed"===g.status?Object(u.jsx)("h1",{children:"Ocurrio un error, intenta mas tarde"}):null})]})};t.default=function(){return Object(u.jsx)("div",{className:"checkout-page-container",children:Object(u.jsx)("div",{className:"checkout-page-content-container",children:Object(u.jsx)(j,{})})})}}}]);
//# sourceMappingURL=5.c4e581c1.chunk.js.map