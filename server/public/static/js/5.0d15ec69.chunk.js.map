{"version":3,"sources":["components/cart-item/cart-item.component.jsx","components/checkout/checkout.component.jsx","pages/checkoutpage/checkout.page.js"],"names":["CartItem","cartItem","addItem","removeItem","id","name","quantity","price","className","style","display","onClick","Checkout","cartCtx","useContext","CartContext","userCtx","UserContext","useState","first_name","last_name","email","address","city","phone","state","userProfileData","setUserProfileData","status","orderStatus","setOrderStatus","console","log","handleChange","event","target","value","cartItems","map","item","cartTotal","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","res","order","order_id","clearCart","catch","err","width","justifyContent","placeholder","type","onChange","label","required","disabled","to","CheckoutPage"],"mappings":"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","file":"static/js/5.0d15ec69.chunk.js","sourcesContent":["import React  from 'react';\r\nimport './cart-item.styles.css'\r\n\r\n\r\nconst CartItem = ({ cartItem, addItem, removeItem }) => {    \r\n    const { id, name, quantity, price } = cartItem;\r\n\r\n    return (\r\n        <div key={id} className=\"rows-container\">\r\n            <div>{name}</div>\r\n            <div style={{display: 'flex'}}>\r\n                <div className=\"arrow-rows\" onClick={() => {removeItem(cartItem)}}>&#10094;</div><span>{quantity}</span><div className=\"arrow-rows\" onClick={() => {addItem(cartItem)}}>&#10095;</div> \r\n            </div>\r\n            <div>$ {price}</div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CartItem;","import React, {useState, useContext} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './checkout.styles.css';\r\n\r\nimport CartItem from '../cart-item/cart-item.component';\r\nimport { CartContext } from '../../context/cartContext/cart.context';\r\nimport { UserContext } from '../../context/userContext/user.context';\r\n\r\nconst Checkout = () => {\r\n\r\n    const cartCtx = useContext(CartContext);\r\n    const userCtx = useContext(UserContext);\r\n\r\n    const [userProfileData, setUserProfileData] = useState({\r\n        first_name: userCtx.first_name, \r\n        last_name: userCtx.last_name,\r\n        email: userCtx.email,\r\n        address: userCtx.address,\r\n        city: userCtx.city,\r\n        phone: userCtx.phone,\r\n        state: userCtx.state,\r\n    })\r\n\r\n    const [orderStatus, setOrderStatus] = useState({status: ''})\r\n    console.log(orderStatus)\r\n\r\n    const { \r\n        first_name,\r\n        last_name,\r\n        email,\r\n        address,\r\n        city,\r\n        phone,\r\n        state, \r\n    } = userProfileData;\r\n\r\n    const handleChange = event => {\r\n        const { value, name } = event.target;\r\n        setUserProfileData({ ...userProfileData, [name]: value });\r\n      };\r\n\r\n    const handlePurchase = (e) => {\r\n        e.preventDefault();\r\n        console.log(userCtx);\r\n        console.log(cartCtx);\r\n        fetch(`https://localhost:3001/order/`, {\r\n                method: 'post',\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    first_name,\r\n                    last_name,\r\n                    email,\r\n                    address,\r\n                    city,\r\n                    phone,\r\n                    state,\r\n                    userCtx,\r\n                    cartCtx,\r\n                })\r\n            })\r\n             .then((response) => response.json())\r\n             .then((res) => typeof res.order === 'number' ? (setOrderStatus({status:\"success\", order_id: res.order}), cartCtx.clearCart()) : setOrderStatus({status: \"failed\"}))\r\n             .catch((err) => console.log(\"Error al actualizar datos, intenta de nuevo\" + err))\r\n               \r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Checkout</h1>\r\n            <div className=\"sections-container\">\r\n                <div className=\"order-section\">\r\n                    <h3>Pedido</h3>\r\n                    <div className=\"checkout-rows-container\">\r\n                        {cartCtx.cartItems.map((item) => (\r\n                            <CartItem key={item.id} cartItem={item} addItem={cartCtx.addItem} removeItem={cartCtx.removeItem}/>\r\n                    ))}\r\n                    </div>\r\n                    <div className=\"total-container\">\r\n                        <h3>Total </h3>\r\n                        <h3>$ {cartCtx.cartTotal}</h3>\r\n                    </div>\r\n                </div>\r\n                <div className=\"delivery-section\">\r\n                    <h3>Datos de envio</h3>\r\n                    <form onSubmit={handlePurchase} className=\"checkout-container\">\r\n            {/* { updateSuccess ? <h4 style={{color: 'green', margin: '0' }}>Cambios guardados con exito!</h4> : null}\r\n            { error ? <h4 style={{color: 'red', margin: '0' }}>{error}</h4> : null } */}\r\n                    <div className=\"checkout-inputs\">\r\n                        <div style={{display: 'flex', width: '100%', justifyContent: 'space-around'}}>\r\n                            <input \r\n                                className=\"checkout-input\" \r\n                                placeholder=\"Nombre\" \r\n                                name='first_name'\r\n                                type='text'\r\n                                onChange={handleChange}\r\n                                value={first_name}\r\n                                label='Nombre'\r\n                                required\r\n                            />\r\n                            <input\r\n                                className=\"checkout-input\" \r\n                                placeholder=\"Apellido\"\r\n                                name='last_name'\r\n                                type='text'\r\n                                value={last_name}\r\n                                onChange={handleChange}\r\n                                label='Apellido'\r\n                                required\r\n                                />                            \r\n                        </div>\r\n                        <div style={{display: 'flex', width: '100%', justifyContent: 'space-around'}}>\r\n                            <input\r\n                                className=\"checkout-input\" \r\n                                placeholder=\"Telefono\"\r\n                                name='phone'\r\n                                type='text'\r\n                                value={phone}\r\n                                onChange={handleChange}\r\n                                label='Telefono'\r\n                                required\r\n                            />\r\n                            <input\r\n                                className=\"checkout-input\" \r\n                                placeholder=\"Correo Electronico\"\r\n                                name='email'\r\n                                type='email'\r\n                                value={email}\r\n                                onChange={handleChange}\r\n                                label='Email'\r\n                                disabled\r\n                                />\r\n                            \r\n                            \r\n                        </div>\r\n                        <div style={{display: 'flex', width: '100%', justifyContent: 'space-around'}}>\r\n                            <input\r\n                                className=\"checkout-input\" \r\n                                placeholder=\"Direccion\"\r\n                                name='address'\r\n                                type='text'\r\n                                value={address}\r\n                                onChange={handleChange}\r\n                                label='Direccion'\r\n                                />\r\n                            <input\r\n                                className=\"checkout-input\" \r\n                                placeholder=\"Ciudad\"\r\n                                name='city'\r\n                                type='text'\r\n                                value={city}\r\n                                onChange={handleChange}\r\n                                label='ConfirmarPassword'\r\n                                />\r\n                            <input\r\n                                className=\"checkout-input\" \r\n                                placeholder=\"Departamento\"\r\n                                name='state'\r\n                                type='text'\r\n                                value={state}\r\n                                onChange={handleChange}\r\n                                label='Departamento'\r\n                                />\r\n                        </div>\r\n                    </div>\r\n                        <div className=\"checkout-button-container\">\r\n                            <Link to=\"/cart\" style={{width: \"30%\"}}><button className=\"checkout-back-button\">Volver</button></Link>\r\n                            <button className=\"checkout-button\" type=\"submit\">Comprar</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n                    <div>\r\n                        {orderStatus.status === 'success' ? \r\n                            <div>\r\n                                <h1>Tu pedido ha sido procesado con exito, tu numero de order es {orderStatus.order_id} </h1>\r\n                                <h2>Te contactaremos a la brevedad</h2>\r\n                            </div> : orderStatus.status === 'failed' ? <h1>Ocurrio un error, intenta mas tarde</h1> : null}\r\n                    </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Checkout;","import React from 'react';\r\nimport './checkout.page.styles.css'\r\nimport Checkout from '../../components/checkout/checkout.component';\r\n\r\nconst CheckoutPage = () => {\r\n    return (\r\n        <div className=\"checkout-page-container\">\r\n            <div className=\"checkout-page-content-container\">\r\n                <Checkout/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutPage; "],"sourceRoot":""}