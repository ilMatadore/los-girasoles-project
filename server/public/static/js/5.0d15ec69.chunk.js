(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{61:function(e,t,c){"use strict";c(1),c(62);var a=c(2);t.a=function(e){var t=e.cartItem,c=e.addItem,s=e.removeItem,n=t.id,i=t.name,r=t.quantity,o=t.price;return Object(a.jsxs)("div",{className:"rows-container",children:[Object(a.jsx)("div",{children:i}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)("div",{className:"arrow-rows",onClick:function(){s(t)},children:"\u276e"}),Object(a.jsx)("span",{children:r}),Object(a.jsx)("div",{className:"arrow-rows",onClick:function(){c(t)},children:"\u276f"})]}),Object(a.jsxs)("div",{children:["$ ",o]})]},n)}},62:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},88:function(e,t,c){"use strict";c.r(t);var a=c(1),s=(c(76),c(27)),n=c(11),i=c(6),r=c(5),o=(c(77),c(61)),l=c(17),d=c(16),u=c(2),j=function(){var e=Object(a.useContext)(l.a),t=Object(a.useContext)(d.a),c=Object(a.useState)({first_name:t.first_name,last_name:t.last_name,email:t.email,address:t.address,city:t.city,phone:t.phone,state:t.state}),j=Object(i.a)(c,2),h=j[0],b=j[1],m=Object(a.useState)({status:""}),p=Object(i.a)(m,2),x=p[0],O=p[1];console.log(x);var v=h.first_name,f=h.last_name,y=h.email,N=h.address,C=h.city,k=h.phone,g=h.state,w=function(e){var t=e.target,c=t.value,a=t.name;b(Object(n.a)(Object(n.a)({},h),{},Object(s.a)({},a,c)))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Checkout"}),Object(u.jsxs)("div",{className:"sections-container",children:[Object(u.jsxs)("div",{className:"order-section",children:[Object(u.jsx)("h3",{children:"Pedido"}),Object(u.jsx)("div",{className:"checkout-rows-container",children:e.cartItems.map((function(t){return Object(u.jsx)(o.a,{cartItem:t,addItem:e.addItem,removeItem:e.removeItem},t.id)}))}),Object(u.jsxs)("div",{className:"total-container",children:[Object(u.jsx)("h3",{children:"Total "}),Object(u.jsxs)("h3",{children:["$ ",e.cartTotal]})]})]}),Object(u.jsxs)("div",{className:"delivery-section",children:[Object(u.jsx)("h3",{children:"Datos de envio"}),Object(u.jsxs)("form",{onSubmit:function(c){c.preventDefault(),console.log(t),console.log(e),fetch("https://localhost:3001/order/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:v,last_name:f,email:y,address:N,city:C,phone:k,state:g,userCtx:t,cartCtx:e})}).then((function(e){return e.json()})).then((function(t){return"number"===typeof t.order?(O({status:"success",order_id:t.order}),e.clearCart()):O({status:"failed"})})).catch((function(e){return console.log("Error al actualizar datos, intenta de nuevo"+e)}))},className:"checkout-container",children:[Object(u.jsxs)("div",{className:"checkout-inputs",children:[Object(u.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-around"},children:[Object(u.jsx)("input",{className:"checkout-input",placeholder:"Nombre",name:"first_name",type:"text",onChange:w,value:v,label:"Nombre",required:!0}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Apellido",name:"last_name",type:"text",value:f,onChange:w,label:"Apellido",required:!0})]}),Object(u.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-around"},children:[Object(u.jsx)("input",{className:"checkout-input",placeholder:"Telefono",name:"phone",type:"text",value:k,onChange:w,label:"Telefono",required:!0}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Correo Electronico",name:"email",type:"email",value:y,onChange:w,label:"Email",disabled:!0})]}),Object(u.jsxs)("div",{style:{display:"flex",width:"100%",justifyContent:"space-around"},children:[Object(u.jsx)("input",{className:"checkout-input",placeholder:"Direccion",name:"address",type:"text",value:N,onChange:w,label:"Direccion"}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Ciudad",name:"city",type:"text",value:C,onChange:w,label:"ConfirmarPassword"}),Object(u.jsx)("input",{className:"checkout-input",placeholder:"Departamento",name:"state",type:"text",value:g,onChange:w,label:"Departamento"})]})]}),Object(u.jsxs)("div",{className:"checkout-button-container",children:[Object(u.jsx)(r.b,{to:"/cart",style:{width:"30%"},children:Object(u.jsx)("button",{className:"checkout-back-button",children:"Volver"})}),Object(u.jsx)("button",{className:"checkout-button",type:"submit",children:"Comprar"})]})]})]})]}),Object(u.jsx)("div",{children:"success"===x.status?Object(u.jsxs)("div",{children:[Object(u.jsxs)("h1",{children:["Tu pedido ha sido procesado con exito, tu numero de order es ",x.order_id," "]}),Object(u.jsx)("h2",{children:"Te contactaremos a la brevedad"})]}):"failed"===x.status?Object(u.jsx)("h1",{children:"Ocurrio un error, intenta mas tarde"}):null})]})};t.default=function(){return Object(u.jsx)("div",{className:"checkout-page-container",children:Object(u.jsx)("div",{className:"checkout-page-content-container",children:Object(u.jsx)(j,{})})})}}}]);
//# sourceMappingURL=5.0d15ec69.chunk.js.map